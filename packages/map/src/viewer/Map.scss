// Map styles

:root {
  --map-isometric-x-offset: 0px;
  --map-isometric-y-offset: 0px;
  --map-isometric-rotation: 45deg;
  --map-isometric-x-rotation: -54.7deg;
  --map-isometric-transition-duration: 0.5s;
}

// Levels

.Map-level {
  display: none;
  transition: transform var(--map-isometric-transition-duration) ease-in-out;
  transform: translate(50%, 50%) translateY(0px) translateX(0px)
    rotate3d(1, 0, 0, 0deg) rotate(0deg) translate(-50%, -50%);

  &.Map-visible {
    display: initial;
  }

  .Map-isometric-transform & {
    // https://www.petercollingridge.co.uk/tutorials/svg/isometric-projection/
    transform: translate(50%, 50%) translateY(var(--map-isometric-y-offset))
      translateX(var(--map-isometric-x-offset))
      rotate3d(1, 0, 0, var(--map-isometric-x-rotation))
      rotate(var(--map-isometric-rotation)) translate(-50%, -50%);
  }
}

.Map-layer {
  &.Map-hidden {
    display: none;
  }
}

.Map-isometric .Map-isometric-hidden {
  display: none;
}

.Map-isometric .Map-level {
  display: initial;
}

.Map-click {
  // opacity: 0;
  cursor: pointer;
}

.Map-vendor-icon {
  display: none;
}

.Map-vendor-icon.Map-visible {
  display: initial;
}

// Specific map element styles

.Map-level-id-3f {
  --map-isometric-y-offset: -85in;
}

.Map-level-id-2f {
  --map-isometric-y-offset: -46in;
}

.Map-level-id-lobby {
  --map-isometric-y-offset: -15in;
}

.Map-level-id-lower {
  --map-isometric-y-offset: 30in;
}

@keyframes pulse {
  0% {
    // fill: currentColor;
  }

  50% {
    fill: #66af;
  }

  100% {
    // fill: currentColor;
  }
}

.Map-area {
  &.Map-highlight {
    animation-name: pulse;
    animation-duration: 1s;
    animation-iteration-count: infinite;
    animation-timing-function: linear;
  }
}

.height-indicator {
  display: none;
}

.Map-isometric-transform-finished .height-indicator {
  display: initial;
}

.vendor-icon {
  fill: url(http://localhost:9001/tm.png);
}

.Map-foreignObjectText {
  font-family: "Inter", sans-serif;
  font-size: 0.33in;
  line-height: 0.33in;
  text-align: center;
}

// .height-indicator-bottom {
//   transform-box: content-box;
//   transition: transform var(--map-isometric-transition-duration) ease-in-out;
//   transform: translate(50%, 100%) rotate3d(1, 1, 0, 0deg) rotate(0deg)
//     translate(-50%, -100%);
// }

// .height-indicator-top {
//   transform-box: content-box;
//   transition: transform var(--map-isometric-transition-duration) ease-in-out;
//   transform: translate(50%, 0%) rotate3d(1, 1, 0, 0deg) rotate(0deg)
//     translate(-50%, 0%);
// }

// .Map-isometric .height-indicator-bottom {
//   transform: translate(50%, 100%)
//     rotate3d(1, 1, 0, calc(-1 * var(--map-isometric-x-rotation)))
//     rotate(calc(-1 * var(--map-isometric-rotation))) translate(-50%, -100%);
// }

// .Map-isometric .height-indicator-top {
//   transform: translate(50%, 0%)
//     rotate3d(1, 1, 0, calc(-1 * var(--map-isometric-x-rotation)))
//     rotate(calc(-1 * var(--map-isometric-rotation))) translate(-50%, 0%);
// }

// .Map-level {
//   filter: drop-shadow(0.25in 0.25in 1in #000000aa);
// }

// Stair effects

// .fyr-stairs-1f {
//   --stair-offset-base-y: 86.788574px;
//   --stair-offset: -0.5in;
// }

// .fyr-stairs-1f > * {
//   transition: transform var(--map-isometric-transition-duration) ease-in-out;
// }

// .Map-isometric .fyr-stairs-1f > *:nth-child(1) {
//   --stair-n: 0;
// }

// .Map-isometric .fyr-stairs-1f > *:nth-child(2) {
//   --stair-n: 1;
// }

// .Map-isometric .fyr-stairs-1f > *:nth-child(3) {
//   --stair-n: 2;
// }

// .Map-isometric .fyr-stairs-1f > *:nth-child(4) {
//   --stair-n: 3;
// }

// .Map-isometric .fyr-stairs-1f > *:nth-child(5) {
//   --stair-n: 4;
// }

// .Map-isometric .fyr-stairs-1f > * {
//   transform: translate(
//     calc(var(--stair-n) * var(--stair-offset)),
//     calc(var(--stair-n) * (var(--stair-offset) + var(--stair-offset-base-y)))
//   );
// }

// .fyr-stairs-2f {
//   --stair-offset-base-y: 86.788574px;
//   --stair-offset: 0.5in;
// }

// .fyr-stairs-2f > * {
//   transition: transform var(--map-isometric-transition-duration) ease-in-out;
// }

// .Map-isometric .fyr-stairs-2f > *:nth-child(1) {
//   --stair-n: 0;
// }

// .Map-isometric .fyr-stairs-2f > *:nth-child(2) {
//   --stair-n: 1;
// }

// .Map-isometric .fyr-stairs-2f > *:nth-child(3) {
//   --stair-n: 2;
// }

// .Map-isometric .fyr-stairs-2f > *:nth-child(4) {
//   --stair-n: 3;
// }

// .Map-isometric .fyr-stairs-2f > *:nth-child(5) {
//   --stair-n: 4;
// }

// .Map-isometric .fyr-stairs-2f > * {
//   transform: translate(
//     calc(var(--stair-n) * var(--stair-offset)),
//     calc(var(--stair-n) * (var(--stair-offset) + var(--stair-offset-base-y)))
//   );
// }
